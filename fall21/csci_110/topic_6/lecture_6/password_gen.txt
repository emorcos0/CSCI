Declare Integer CONSTANT SPEC = 43
Declare Integer CONSTANT SIZE = 7776





Main Module()
Declare Character spec[SPEC]
Declare String words[SIZE]
Call wordsFile(words, SIZE)
    Module wordsFile(String words[], Integer SIZE )
        Declare InputFile Wfile
        Open Wfile "wordlist.txt"
        Declare Integer counter
        For counter = 0 to SIZE
            Read Wfile words[counter]
        End For
        Close Wfile
    End Module


While true
    Declare Integer size
    Set size = Function Integer getSize()
        Function Integer getSize()
            Declare integer size
            While true
                Display "Enter the number of words you want in your password: "
                Input size
                If size >= 1
                    Break
                End If
                Display "Enter a size greater than 0"
            End While
            Return size
        End Function
    Declare string password [size]
    Call randomChoose (String words, String password, Integer size, Integer SIZE)
        Module randomChoose(String words[], String password[], Integer size, Integer SIZE)
            Declare Integer counter
            For counter = 0 to size
                Declare Integer rand = random(0, SIZE)
                Set password[counter] = words[rand]
                Call swap(String Red words[rand],String Ref words[SIZE - 1] )
                Set SIZE = SIZE - 1
            End For
        End Module
    If (Function Boolean askChar())
        Declare Character special[size - 1]
        Call charsFile(Character spec, Integer SPEC)
            Module charsFile (Character spec[], Integer SPEC)
                Set spec[0] = ' '
                Declare InputFile Cfile
                Open Cfile "special_chars.txt"
                Declare Integer counter
                For counter = 0 to SPEC
                    Read Cfile spec[counter]
                End For
                Close Wfile
            End Module
        Call randomChoose(Character spec, Character special, Integer size, Integer SPEC)
            Module randomChoose (Character spec[], Character special[], Integer size, Integer SPEC)
                Declare Integer counter
                For couter = 0 to (size - 1)
                    Declare Integer rand = random(0, SPEC)
                    Set special[counter] = spec[rand]
                    Call swap(Character Ref spec[rand], Character Ref spec[SPEC - 1])
                    SPEC = SPEC - 1
                End For
            End Module
        If (Function Boolean askUpper())
            Declare Integer counter
            For counter = 0 to size
                Function randomUp(password[i])
            End For
        End If
        Call displayPass(Character special, String password, Integer size)
            Module displayPass(Character special[], String password[], Integer size)
                Declare Integer counter 
                For counter = 0 to size
                    Display password[i] special[i]
                End For
            End Module
        Break
    End If
    If (Function Boolean askUpper())
            Declare Integer counter
            For counter = 0 to size
                Function randomUp(password[i])
            End For
    End If
    Call displayPass(String password, Integer size)
        Module displayPass (String password[], Integer size)
            Declare Integer counter
            For counter = 0 to size
                Display password[counter]
            End For
        End Module
    Break
End While

End Main Module

Module swap(String Ref left, String Ref right)
    Declare String temp = left
    Set left = right
    Set right = left
End Module

Module swap(Character Ref left, Character Ref right)
    Declare Character temp = left
    Set left = right
    Set right = left
End Module

Function Integer random(Integer start, Integer end)
    Return rand() MOD (end - start) + start
End Function

Function Boolean askChar()
    Declare Character resp
    While(true)
        Display "Would you like the words seperated by randomly chosen special characters? (y/n): "
        Input resp
        tolower(resp)
        If resp == 'y OR resp == 'n'
            Return resp == 'y'
        End If
        Display "Invalid choice!!"
    End While
End Function

Function Boolean askUpper()
    Declare Character resp
    While(true)
        Display "Would you like a random character from each word to be capitalized? (y/n): "
        Input resp
        tolower(resp)
        If resp == 'y OR resp == 'n'
            Return resp == 'y'
        End If
        Display "Invalid choice!!"
    End While
End Function

Module randomUp(String Ref word)
    Declare Integer ind = random(0, word length)
    Set word[ind] = word[ind] - 32
End Module
